<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deutsch Master - –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞</title>
    <style>
        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –∏ —Å–±—Ä–æ—Å */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-black: #000000;
            --primary-red: #DD0000;
            --primary-gold: #FFCC00;
            --secondary-dark: #333333;
            --secondary-light: #F5F5F5;
            --accent-blue: #0066CC;
            --success: #00AA00;
            --warning: #FF9900;
            --danger: #CC0000;
            --text-primary: #333;
            --text-secondary: #666;
            --bg-light: #ffffff;
            --bg-dark: #1a1a1a;
            --shadow: 0 4px 12px rgba(0,0,0,0.1);
            --border-radius: 12px;
            --transition: all 0.3s ease;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ —Å–µ–∫—Ü–∏–∏ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        section {
            padding: 80px 0;
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            color: var(--primary-black);
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--primary-red);
            border-radius: 2px;
        }

        /* –ù–∞–≤–∏–≥–∞—Ü–∏—è */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary-black);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-primary);
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: var(--transition);
        }

        .nav-links a:hover {
            background: var(--secondary-light);
            color: var(--primary-red);
        }

        .nav-links a.active {
            background: var(--primary-red);
            color: white;
        }

        .auth-buttons {
            display: flex;
            gap: 1rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-red);
            color: white;
        }

        .btn-primary:hover {
            background: #cc0000;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(221, 0, 0, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary-red);
            border: 2px solid var(--primary-red);
        }

        .btn-secondary:hover {
            background: var(--primary-red);
            color: white;
        }

        .btn-outline {
            background: transparent;
            color: var(--text-primary);
            border: 2px solid #ddd;
        }

        .btn-outline:hover {
            border-color: var(--primary-red);
            color: var(--primary-red);
        }

        /* –ì–µ—Ä–æ–π —Å–µ–∫—Ü–∏—è */
        .hero {
            padding: 160px 0 80px;
            text-align: center;
            background: linear-gradient(135deg, var(--primary-black) 0%, #333 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="%23FFCC00" opacity="0.1"/></svg>');
            background-size: cover;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.25rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 4rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            display: block;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-gold);
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* –°–µ–∫—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            text-align: center;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .feature-card h3 {
            margin-bottom: 1rem;
            color: var(--primary-black);
        }

        /* –°–ª–æ–≤–∞—Ä—å */
        .dictionary-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        .search-box {
            position: relative;
            margin-bottom: 2rem;
        }

        .search-input {
            width: 100%;
            padding: 1rem 1.5rem;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 0 3px rgba(221, 0, 0, 0.1);
        }

        .search-suggestions {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ddd;
            border-radius: 12px;
            margin-top: 5px;
            max-height: 300px;
            overflow-y: auto;
            box-shadow: var(--shadow);
            display: none;
            z-index: 100;
        }

        .suggestion-item {
            padding: 1rem;
            cursor: pointer;
            border-bottom: 1px solid #eee;
            transition: var(--transition);
        }

        .suggestion-item:hover {
            background: var(--secondary-light);
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }

        .word-display {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .word-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .word-title {
            font-size: 2.5rem;
            color: var(--primary-black);
        }

        .word-level {
            padding: 0.25rem 0.75rem;
            background: var(--primary-gold);
            color: black;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .word-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .detail-card {
            background: var(--secondary-light);
            padding: 1.5rem;
            border-radius: var(--border-radius);
        }

        .detail-card h4 {
            color: var(--primary-red);
            margin-bottom: 0.5rem;
        }

        /* –ò–≥—Ä—ã */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .game-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .game-header {
            background: linear-gradient(135deg, var(--primary-red) 0%, #cc0000 100%);
            color: white;
            padding: 1.5rem;
            text-align: center;
        }

        .game-content {
            padding: 1.5rem;
        }

        .game-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* –ß–∞—Ç */
        .chat-container {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            display: grid;
            grid-template-columns: 300px 1fr;
            height: 600px;
        }

        .chat-sidebar {
            background: var(--bg-dark);
            color: white;
            padding: 1.5rem;
        }

        .chat-rooms {
            margin-top: 1rem;
        }

        .room-item {
            padding: 0.75rem;
            border-radius: 8px;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 0.5rem;
        }

        .room-item:hover, .room-item.active {
            background: rgba(255, 255, 255, 0.1);
        }

        .chat-main {
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            padding: 1.5rem;
            border-bottom: 1px solid #eee;
            background: white;
        }

        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            background: #fafafa;
        }

        .message {
            margin-bottom: 1rem;
            max-width: 70%;
        }

        .message.sent {
            margin-left: auto;
        }

        .message-content {
            padding: 0.75rem 1rem;
            border-radius: 18px;
            background: white;
            border: 1px solid #eee;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .message.sent .message-content {
            background: var(--primary-red);
            color: white;
            border: none;
        }

        .message-info {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            margin-top: 0.25rem;
            opacity: 0.7;
        }

        .chat-input-area {
            padding: 1.5rem;
            border-top: 1px solid #eee;
            background: white;
            display: flex;
            gap: 1rem;
        }

        .chat-input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--primary-red);
        }

        /* –†–µ–π—Ç–∏–Ω–≥ */
        .leaderboard {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .leaderboard-header {
            display: grid;
            grid-template-columns: 80px 3fr 1fr 1fr;
            padding: 1rem 1.5rem;
            background: var(--primary-black);
            color: white;
            font-weight: 600;
        }

        .leaderboard-row {
            display: grid;
            grid-template-columns: 80px 3fr 1fr 1fr;
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #eee;
            align-items: center;
        }

        .leaderboard-row:nth-child(even) {
            background: #f9f9f9;
        }

        .rank-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            font-weight: 700;
        }

        .rank-1 { background: var(--primary-gold); color: black; }
        .rank-2 { background: #c0c0c0; color: black; }
        .rank-3 { background: #cd7f32; color: white; }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-red), var(--primary-gold));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        /* –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–í—Ö–æ–¥ */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease;
        }

        .auth-content {
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        .auth-tabs {
            display: flex;
            border-bottom: 1px solid #eee;
        }

        .auth-tab {
            flex: 1;
            padding: 1rem;
            text-align: center;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .auth-tab.active {
            color: var(--primary-red);
            border-bottom: 3px solid var(--primary-red);
        }

        .auth-form {
            padding: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-red);
            box-shadow: 0 0 0 3px rgba(221, 0, 0, 0.1);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pop {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .animate-pop {
            animation: pop 0.5s ease-out;
        }

        /* –§—É—Ç–µ—Ä */
        .footer {
            background: var(--primary-black);
            color: white;
            padding: 4rem 0 2rem;
            margin-top: 4rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .footer-section h4 {
            color: var(--primary-gold);
            margin-bottom: 1.5rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.75rem;
        }

        .footer-links a {
            color: #ccc;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: white;
            padding-left: 5px;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid #333;
            color: #999;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .stats {
                flex-direction: column;
                gap: 1.5rem;
            }

            .nav-links {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .hero-buttons {
                flex-direction: column;
            }

            .chat-container {
                grid-template-columns: 1fr;
                height: 500px;
            }

            .chat-sidebar {
                display: none;
            }

            .leaderboard-header,
            .leaderboard-row {
                grid-template-columns: 50px 2fr 1fr 1fr;
                font-size: 0.9rem;
                padding: 0.75rem 1rem;
            }

            .features-grid,
            .games-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 120px 0 60px;
            }

            .hero h1 {
                font-size: 2rem;
            }

            section {
                padding: 60px 0;
            }

            .word-title {
                font-size: 2rem;
            }

            .btn {
                padding: 0.6rem 1.2rem;
            }
        }

        /* –£—Ç–∏–ª–∏—Ç—ã */
        .hidden {
            display: none !important;
        }

        .visible {
            display: block !important;
        }

        .text-center {
            text-align: center;
        }

        .mt-1 { margin-top: 0.5rem; }
        .mt-2 { margin-top: 1rem; }
        .mt-3 { margin-top: 1.5rem; }
        .mt-4 { margin-top: 2rem; }
        .mt-5 { margin-top: 3rem; }

        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mb-4 { margin-bottom: 2rem; }
        .mb-5 { margin-bottom: 3rem; }

        /* –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <span style="color: var(--primary-red)">üá©üá™</span>
                <span>Deutsch Master</span>
            </div>
            <div class="nav-links">
                <a href="#home" class="active">–ì–ª–∞–≤–Ω–∞—è</a>
                <a href="#dictionary">–°–ª–æ–≤–∞—Ä—å</a>
                <a href="#games">–ò–≥—Ä—ã</a>
                <a href="#chat">–ß–∞—Ç</a>
                <a href="#rating">–†–µ–π—Ç–∏–Ω–≥</a>
                <div class="auth-buttons">
                    <button class="btn btn-secondary" onclick="showAuth('login')">–í–æ–π—Ç–∏</button>
                    <button class="btn btn-primary" onclick="showAuth('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
                </div>
            </div>
            <button class="btn btn-outline mobile-menu-btn" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è -->
    <section id="home" class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="animate-pop">–ò–∑—É—á–∞–π—Ç–µ –Ω–µ–º–µ—Ü–∫–∏–π —è–∑—ã–∫ –∫–∞–∫ –Ω–∏–∫–æ–≥–¥–∞ —Ä–∞–Ω—å—à–µ!</h1>
                <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Å –∏–≥—Ä–∞–º–∏, —á–∞—Ç–æ–º –∏ —É–º–Ω—ã–º —Å–ª–æ–≤–∞—Ä—ë–º –Ω–∞ 5000+ —Å–ª–æ–≤</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="showAuth('register')">
                        <i class="fas fa-play"></i> –ù–∞—á–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ
                    </button>
                    <button class="btn btn-secondary" onclick="scrollToSection('features')">
                        <i class="fas fa-info-circle"></i> –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ
                    </button>
                </div>
                <div class="stats">
                    <div class="stat-item">
                        <span class="stat-number">5,000+</span>
                        <span class="stat-label">—Å–ª–æ–≤ –≤ —Å–ª–æ–≤–∞—Ä–µ</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">24/7</span>
                        <span class="stat-label">–æ–Ω–ª–∞–π–Ω —á–∞—Ç</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">10+</span>
                        <span class="stat-label">–∏–≥—Ä–æ–≤—ã—Ö —Ä–µ–∂–∏–º–æ–≤</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ -->
    <section id="features">
        <div class="container">
            <h2 class="section-title">–ù–∞—à–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üìö</div>
                    <h3>–£–º–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å</h3>
                    <p>–ë–æ–ª–µ–µ 5000 —Å–ª–æ–≤ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏ –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ–º. –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–¥–±–æ—Ä–∫–∏</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üéÆ</div>
                    <h3>–ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä–Ω—ã–µ –∏–≥—Ä—ã</h3>
                    <p>–°–æ—Ä–µ–≤–Ω—É–π—Ç–µ—Å—å —Å –¥—Ä—É–≥–∏–º–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º–∏ –≤ –¥—É—ç–ª—è—Ö –Ω–∞ –ø–µ—Ä–µ–≤–æ–¥, –≤–∏–∫—Ç–æ—Ä–∏–Ω–∞—Ö –∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –±–∏—Ç–≤–∞—Ö</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üí¨</div>
                    <h3>–ñ–∏–≤–æ–π —á–∞—Ç</h3>
                    <p>–û–±—â–∞–π—Ç–µ—Å—å —Å –Ω–æ—Å–∏—Ç–µ–ª—è–º–∏ —è–∑—ã–∫–∞, –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã, —É—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –¥–∏—Å–∫—É—Å—Å–∏—è—Ö –ø–æ —Ç–µ–º–∞–º —É—Ä–æ–∫–æ–≤</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üèÜ</div>
                    <h3>–†–µ–π—Ç–∏–Ω–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞</h3>
                    <p>–ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—á–∫–∏, –ø–æ–≤—ã—à–∞–π—Ç–µ —É—Ä–æ–≤–µ–Ω—å –∏ —Å–æ—Ä–µ–≤–Ω—É–π—Ç–µ—Å—å –∑–∞ –º–µ—Å—Ç–æ –≤ —Ç–æ–ø–µ –ª—É—á—à–∏—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤</p>
                </div>
            </div>
        </div>
    </section>

    <!-- –°–ª–æ–≤–∞—Ä—å -->
    <section id="dictionary">
        <div class="container">
            <h2 class="section-title">–£–º–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å</h2>
            <div class="dictionary-container">
                <div class="search-box">
                    <input type="text" 
                           class="search-input" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏–ª–∏ –Ω–µ–º–µ—Ü–∫–æ–º..." 
                           oninput="searchWord(this.value)">
                    <div class="search-suggestions" id="suggestions"></div>
                </div>
                <div class="word-display" id="wordDisplay">
                    <div class="word-header">
                        <h2 class="word-title" id="wordTitle">Haus</h2>
                        <span class="word-level" id="wordLevel">A1</span>
                    </div>
                    <div class="word-details">
                        <div class="detail-card">
                            <h4>–ü–µ—Ä–µ–≤–æ–¥</h4>
                            <p id="wordTranslation">–¥–æ–º</p>
                        </div>
                        <div class="detail-card">
                            <h4>–¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è</h4>
                            <p id="wordTranscription">[ha äÃØs]</p>
                        </div>
                        <div class="detail-card">
                            <h4>–ê—Ä—Ç–∏–∫–ª—å</h4>
                            <p id="wordArticle">das</p>
                        </div>
                        <div class="detail-card">
                            <h4>–ü—Ä–∏–º–µ—Ä –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</h4>
                            <p id="wordExample">Ich wohne in einem gro√üen Haus. (–Ø –∂–∏–≤—É –≤ –±–æ–ª—å—à–æ–º –¥–æ–º–µ.)</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <button class="btn btn-primary" onclick="speakWord()">
                            <i class="fas fa-volume-up"></i> –ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ
                        </button>
                        <button class="btn btn-outline" onclick="addToFavorites()">
                            <i class="fas fa-star"></i> –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –ò–≥—Ä—ã -->
    <section id="games">
        <div class="container">
            <h2 class="section-title">–ò–≥—Ä–æ–≤—ã–µ —Ä–µ–∂–∏–º—ã</h2>
            <div class="games-grid">
                <div class="game-card">
                    <div class="game-header">
                        <h3><i class="fas fa-crosshairs"></i> –Ø–∑—ã–∫–æ–≤–æ–π –î—É—ç–ª—å</h3>
                    </div>
                    <div class="game-content">
                        <p>1 –Ω–∞ 1 —Å —Ä–µ–∞–ª—å–Ω—ã–º –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–æ–º. –ö—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –ø–µ—Ä–µ–≤–µ–¥–µ—Ç —Å–ª–æ–≤–æ?</p>
                        <div class="game-stats">
                            <span><i class="fas fa-users"></i> 156 –æ–Ω–ª–∞–π–Ω</span>
                            <span><i class="fas fa-trophy"></i> 1000+ –∏–≥—Ä</span>
                        </div>
                        <button class="btn btn-primary mt-3" onclick="startGame('duel')" style="width: 100%;">
                            –ò–≥—Ä–∞—Ç—å —Å–µ–π—á–∞—Å
                        </button>
                    </div>
                </div>
                <div class="game-card">
                    <div class="game-header">
                        <h3><i class="fas fa-brain"></i> –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –Ω–∞ –≤—Ä–µ–º—è</h3>
                    </div>
                    <div class="game-content">
                        <p>–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –∑–∞ 60 —Å–µ–∫—É–Ω–¥</p>
                        <div class="game-stats">
                            <span><i class="fas fa-clock"></i> 60 —Å–µ–∫</span>
                            <span><i class="fas fa-star"></i> –°–ª–æ–∂–Ω–æ—Å—Ç—å: —Å—Ä–µ–¥–Ω—è—è</span>
                        </div>
                        <button class="btn btn-primary mt-3" onclick="startGame('quiz')" style="width: 100%;">
                            –ù–∞—á–∞—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É
                        </button>
                    </div>
                </div>
                <div class="game-card">
                    <div class="game-header">
                        <h3><i class="fas fa-running"></i> –ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–±–µ–≥</h3>
                    </div>
                    <div class="game-content">
                        <p>–ò—Å–ø—Ä–∞–≤–ª—è–π—Ç–µ –æ—à–∏–±–∫–∏ –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö –Ω–∞–ø–µ—Ä–µ–≥–æ–Ω–∫–∏ —Å –¥—Ä—É–≥–∏–º–∏</p>
                        <div class="game-stats">
                            <span><i class="fas fa-users"></i> 89 –æ–Ω–ª–∞–π–Ω</span>
                            <span><i class="fas fa-graduation-cap"></i> –£—Ä–æ–≤–µ–Ω—å: B1+</span>
                        </div>
                        <button class="btn btn-primary mt-3" onclick="startGame('race')" style="width: 100%;">
                            –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –ß–∞—Ç -->
    <section id="chat">
        <div class="container">
            <h2 class="section-title">–û–Ω–ª–∞–π–Ω —á–∞—Ç</h2>
            <div class="chat-container">
                <div class="chat-sidebar">
                    <h4>–ö–æ–º–Ω–∞—Ç—ã –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è</h4>
                    <div class="chat-rooms">
                        <div class="room-item active" onclick="switchRoom('general')">
                            <strong># –û–±—â–∏–π —á–∞—Ç</strong>
                            <div style="font-size: 0.8rem; opacity: 0.8;">156 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                        </div>
                        <div class="room-item" onclick="switchRoom('a1')">
                            <strong># –£—Ä–æ–≤–µ–Ω—å A1</strong>
                            <div style="font-size: 0.8rem; opacity: 0.8;">89 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                        </div>
                        <div class="room-item" onclick="switchRoom('a2')">
                            <strong># –£—Ä–æ–≤–µ–Ω—å A2</strong>
                            <div style="font-size: 0.8rem; opacity: 0.8;">67 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                        </div>
                        <div class="room-item" onclick="switchRoom('games')">
                            <strong># –ò–≥—Ä–æ–≤–∞—è</strong>
                            <div style="font-size: 0.8rem; opacity: 0.8;">45 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                        </div>
                        <div class="room-item" onclick="switchRoom('grammar')">
                            <strong># –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</strong>
                            <div style="font-size: 0.8rem; opacity: 0.8;">34 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</div>
                        </div>
                    </div>
                    <div class="mt-4">
                        <h4>–û–Ω–ª–∞–π–Ω —Å–µ–π—á–∞—Å</h4>
                        <div style="margin-top: 1rem;">
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <div class="user-avatar">AK</div>
                                <span>AnnaK (A2)</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <div class="user-avatar">MB</div>
                                <span>MaxBerlin (C1)</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                                <div class="user-avatar">LS</div>
                                <span>LenaSchmidt (B2)</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="chat-main">
                    <div class="chat-header">
                        <h4 id="currentRoom"># –û–±—â–∏–π —á–∞—Ç</h4>
                        <div style="font-size: 0.9rem; color: #666;">156 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –æ–Ω–ª–∞–π–Ω</div>
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <!-- –°–æ–æ–±—â–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <div class="chat-input-area">
                        <input type="text" 
                               class="chat-input" 
                               id="chatInput" 
                               placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." 
                               onkeypress="handleChatKeyPress(event)">
                        <button class="btn btn-primary" onclick="sendMessage()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –†–µ–π—Ç–∏–Ω–≥ -->
    <section id="rating">
        <div class="container">
            <h2 class="section-title">–†–µ–π—Ç–∏–Ω–≥ –∏–≥—Ä–æ–∫–æ–≤</h2>
            <div class="leaderboard">
                <div class="leaderboard-header">
                    <span>–ú–µ—Å—Ç–æ</span>
                    <span>–ò–≥—Ä–æ–∫</span>
                    <span>–£—Ä–æ–≤–µ–Ω—å</span>
                    <span>–û—á–∫–∏</span>
                </div>
                <div id="leaderboardBody">
                    <!-- –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
            <div class="text-center mt-4">
                <button class="btn btn-outline" onclick="loadFullLeaderboard()">
                    <i class="fas fa-list"></i> –í–µ—Å—å —Ä–µ–π—Ç–∏–Ω–≥
                </button>
            </div>
        </div>
    </section>

    <!-- –§—É—Ç–µ—Ä -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Deutsch Master</h4>
                    <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è –Ω–µ–º–µ—Ü–∫–æ–≥–æ —è–∑—ã–∫–∞ —á–µ—Ä–µ–∑ –∏–≥—Ä—ã, –æ–±—â–µ–Ω–∏–µ –∏ –ø—Ä–∞–∫—Ç–∏–∫—É.</p>
                    <div class="mt-3">
                        <button class="btn btn-outline" style="color: white; border-color: white;">
                            <i class="fab fa-github"></i> GitHub
                        </button>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>–†–∞–∑–¥–µ–ª—ã</h4>
                    <ul class="footer-links">
                        <li><a href="#home">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="#dictionary">–°–ª–æ–≤–∞—Ä—å</a></li>
                        <li><a href="#games">–ò–≥—Ä—ã</a></li>
                        <li><a href="#chat">–ß–∞—Ç</a></li>
                        <li><a href="#rating">–†–µ–π—Ç–∏–Ω–≥</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>–†–µ—Å—É—Ä—Å—ã</h4>
                    <ul class="footer-links">
                        <li><a href="#">–ë–ª–æ–≥</a></li>
                        <li><a href="#">–£—Ä–æ–∫–∏</a></li>
                        <li><a href="#">–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞</a></li>
                        <li><a href="#">–°–ª–æ–≤–∞ –ø–æ —Ç–µ–º–∞–º</a></li>
                        <li><a href="#">–¢–µ—Å—Ç—ã</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                    <ul class="footer-links">
                        <li><a href="#"><i class="fas fa-envelope"></i> support@deutschmaster.com</a></li>
                        <li><a href="#"><i class="fas fa-globe"></i> DeutschMaster.com</a></li>
                        <li><a href="#"><i class="fab fa-telegram"></i> Telegram –∫–∞–Ω–∞–ª</a></li>
                        <li><a href="#"><i class="fab fa-vk"></i> –ì—Ä—É–ø–ø–∞ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2024 Deutsch Master. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. –ü—Ä–æ–µ–∫—Ç –¥–ª—è —Å–µ—Ä—å—ë–∑–Ω–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è –Ω–µ–º–µ—Ü–∫–æ–≥–æ —è–∑—ã–∫–∞.</p>
            </div>
        </div>
    </footer>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–≤—Ö–æ–¥–∞ -->
    <div class="auth-modal" id="authModal">
        <div class="auth-content">
            <div class="auth-tabs">
                <button class="auth-tab" id="loginTab" onclick="switchAuthTab('login')">–í—Ö–æ–¥</button>
                <button class="auth-tab" id="registerTab" onclick="switchAuthTab('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
            </div>
            
            <div class="auth-form" id="loginForm">
                <h3 class="text-center mb-3">–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h3>
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" class="form-control" placeholder="–í–∞—à email">
                </div>
                <div class="form-group">
                    <label for="loginPassword">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="–í–∞—à –ø–∞—Ä–æ–ª—å">
                </div>
                <button class="btn btn-primary" style="width: 100%;" onclick="login()">
                    –í–æ–π—Ç–∏
                </button>
                <div class="text-center mt-3">
                    <a href="#" style="color: var(--primary-red);">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                </div>
            </div>

            <div class="auth-form hidden" id="registerForm">
                <h3 class="text-center mb-3">–°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞</h3>
                <div class="form-group">
                    <label for="regUsername">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                    <input type="text" id="regUsername" class="form-control" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è">
                </div>
                <div class="form-group">
                    <label for="regEmail">Email</label>
                    <input type="email" id="regEmail" class="form-control" placeholder="–í–∞—à email">
                </div>
                <div class="form-group">
                    <label for="regPassword">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="regPassword" class="form-control" placeholder="–ù–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤">
                    <div style="margin-top: 5px;">
                        <div style="height: 4px; background: #eee; border-radius: 2px; overflow: hidden;">
                            <div id="passwordStrength" style="height: 100%; width: 0%; background: var(--danger); transition: width 0.3s;"></div>
                        </div>
                        <div id="passwordStrengthText" style="font-size: 0.8rem; color: var(--danger); margin-top: 2px;">–°–ª–∞–±—ã–π</div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="regConfirmPassword">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                    <input type="password" id="regConfirmPassword" class="form-control" placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                </div>
                <div class="form-group">
                    <label>–í–∞—à —É—Ä–æ–≤–µ–Ω—å –Ω–µ–º–µ—Ü–∫–æ–≥–æ</label>
                    <div style="display: flex; gap: 10px; margin-top: 10px;">
                        <button type="button" class="btn btn-outline level-btn" data-level="A1">A1</button>
                        <button type="button" class="btn btn-outline level-btn" data-level="A2">A2</button>
                        <button type="button" class="btn btn-outline level-btn" data-level="B1">B1</button>
                        <button type="button" class="btn btn-outline level-btn" data-level="B2">B2</button>
                    </div>
                    <input type="hidden" id="selectedLevel" value="A1">
                </div>
                <button class="btn btn-primary" style="width: 100%;" onclick="register()">
                    –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç
                </button>
            </div>
        </div>
    </div>

    <script>
        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤ (5000+ —Å–ª–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ)
        const germanWords = [
            {
                id: 1,
                german: "Haus",
                russian: "–¥–æ–º",
                transcription: "[ha äÃØs]",
                article: "das",
                plural: "H√§user",
                level: "A1",
                example_de: "Ich wohne in einem gro√üen Haus.",
                example_ru: "–Ø –∂–∏–≤—É –≤ –±–æ–ª—å—à–æ–º –¥–æ–º–µ.",
                category: "–ë—ã—Ç"
            },
            {
                id: 2,
                german: "Mutter",
                russian: "–º–∞—Ç—å",
                transcription: "[Ààm ät…ê]",
                article: "die",
                plural: "M√ºtter",
                level: "A1",
                example_de: "Meine Mutter kocht sehr gut.",
                example_ru: "–ú–æ—è –º–∞–º–∞ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ –≥–æ—Ç–æ–≤–∏—Ç.",
                category: "–°–µ–º—å—è"
            },
            {
                id: 3,
                german: "essen",
                russian: "–µ—Å—Ç—å, –∫—É—à–∞—Ç—å",
                transcription: "[Àà…õsnÃ©]",
                article: "",
                plural: "",
                level: "A1",
                example_de: "Ich esse gerne Pizza.",
                example_ru: "–Ø –ª—é–±–ª—é –µ—Å—Ç—å –ø–∏—Ü—Ü—É.",
                category: "–ï–¥–∞"
            },
            {
                id: 4,
                german: "trinken",
                russian: "–ø–∏—Ç—å",
                transcription: "[Ààt Å…™≈ãknÃ©]",
                article: "",
                plural: "",
                level: "A1",
                example_de: "Ich trinke Wasser.",
                example_ru: "–Ø –ø—å—é –≤–æ–¥—É.",
                category: "–ï–¥–∞"
            },
            {
                id: 5,
                german: "Buch",
                russian: "–∫–Ω–∏–≥–∞",
                transcription: "[buÀêx]",
                article: "das",
                plural: "B√ºcher",
                level: "A1",
                example_de: "Ich lese ein interessantes Buch.",
                example_ru: "–Ø —á–∏—Ç–∞—é –∏–Ω—Ç–µ—Ä–µ—Å–Ω—É—é –∫–Ω–∏–≥—É.",
                category: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ"
            },
            {
                id: 6,
                german: "Auto",
                russian: "–∞–≤—Ç–æ–º–æ–±–∏–ª—å",
                transcription: "[Ààa äÃØto]",
                article: "das",
                plural: "Autos",
                level: "A1",
                example_de: "Das Auto ist rot.",
                example_ru: "–ê–≤—Ç–æ–º–æ–±–∏–ª—å –∫—Ä–∞—Å–Ω—ã–π.",
                category: "–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç"
            },
            {
                id: 7,
                german: "Stadt",
                russian: "–≥–æ—Ä–æ–¥",
                transcription: "[ État]",
                article: "die",
                plural: "St√§dte",
                level: "A1",
                example_de: "Berlin ist eine gro√üe Stadt.",
                example_ru: "–ë–µ—Ä–ª–∏–Ω - –±–æ–ª—å—à–æ–π –≥–æ—Ä–æ–¥.",
                category: "–ì–µ–æ–≥—Ä–∞—Ñ–∏—è"
            },
            {
                id: 8,
                german: "Freund",
                russian: "–¥—Ä—É–≥",
                transcription: "[f Å…î èÃØnt]",
                article: "der",
                plural: "Freunde",
                level: "A1",
                example_de: "Mein Freund hei√üt Thomas.",
                example_ru: "–ú–æ–µ–≥–æ –¥—Ä—É–≥–∞ –∑–æ–≤—É—Ç –¢–æ–º–∞—Å.",
                category: "–õ—é–¥–∏"
            },
            {
                id: 9,
                german: "Arbeit",
                russian: "—Ä–∞–±–æ—Ç–∞",
                transcription: "[Ààa Åba…™ÃØt]",
                article: "die",
                plural: "Arbeiten",
                level: "A1",
                example_de: "Meine Arbeit beginnt um 9 Uhr.",
                example_ru: "–ú–æ—è —Ä–∞–±–æ—Ç–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –≤ 9 —á–∞—Å–æ–≤.",
                category: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–∏"
            },
            {
                id: 10,
                german: "Schule",
                russian: "—à–∫–æ–ª–∞",
                transcription: "[Àà ÉuÀêl…ô]",
                article: "die",
                plural: "Schulen",
                level: "A1",
                example_de: "Die Kinder gehen zur Schule.",
                example_ru: "–î–µ—Ç–∏ –∏–¥—É—Ç –≤ —à–∫–æ–ª—É.",
                category: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ"
            }
        ];

        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        let users = JSON.parse(localStorage.getItem('users') || '[]');
        let currentUser = JSON.parse(localStorage.getItem('currentUser') || 'null');

        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞
        const leaderboardData = [
            { rank: 1, username: "AnnaDeutsch", level: "C1", points: 15420, avatar: "AD" },
            { rank: 2, username: "MaxBerlin", level: "B2", points: 14210, avatar: "MB" },
            { rank: 3, username: "LenaSchmidt", level: "B2", points: 13850, avatar: "LS" },
            { rank: 4, username: "TomHamburg", level: "B1", points: 12560, avatar: "TH" },
            { rank: 5, username: "SophiaM√ºnchen", level: "B1", points: 11890, avatar: "SM" },
            { rank: 6, username: "AlexFrankfurt", level: "A2", points: 10540, avatar: "AF" },
            { rank: 7, username: "MartaK√∂ln", level: "A2", points: 9820, avatar: "MK" },
            { rank: 8, username: "PeterDresden", level: "A1", points: 8750, avatar: "PD" },
            { rank: 9, username: "JuliaLeipzig", level: "A1", points: 8120, avatar: "JL" },
            { rank: 10, username: "KlausStuttgart", level: "A1", points: 7650, avatar: "KS" }
        ];

        // –°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞
        const chatMessages = {
            general: [
                { user: "AnnaDeutsch", text: "–ü—Ä–∏–≤–µ—Ç –≤—Å–µ–º! –ö—Ç–æ —Ö–æ—á–µ—Ç –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π –Ω–µ–º–µ—Ü–∫–∏–π?", time: "10:30", level: "C1" },
                { user: "MaxBerlin", text: "–Ø –≥–æ—Ç–æ–≤ –ø–æ–º–æ—á—å! –ö–∞–∫–∞—è —Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç?", time: "10:32", level: "B2" },
                { user: "LenaSchmidt", text: "–ú–æ–∂–Ω–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å –æ –Ω–µ–º–µ—Ü–∫–æ–π –∫—É—Ö–Ω–µ? –Ø —É—á—É —Å–ª–æ–≤–∞ –ø–æ –µ–¥–µ.", time: "10:35", level: "B2" },
                { user: "TomHamburg", text: "Wie sagt man '—É–º–Ω—ã–π –¥–æ–º' auf Deutsch?", time: "10:40", level: "B1" },
                { user: "AnnaDeutsch", text: "'Smart Home' –∏–ª–∏ 'intelligentes Haus'", time: "10:42", level: "C1" }
            ],
            a1: [
                { user: "JuliaLeipzig", text: "–ü–æ–º–æ–≥–∏—Ç–µ —Å –∞—Ä—Ç–∏–∫–ª—è–º–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞! –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å der, die, das?", time: "09:15", level: "A1" },
                { user: "PeterDresden", text: "–Ø —Ç–æ–∂–µ —Å —ç—Ç–∏–º –ø—Ä–æ–±–ª–µ–º—ã...", time: "09:20", level: "A1" },
                { user: "Lehrer", text: "Der - –º—É–∂—Å–∫–æ–π —Ä–æ–¥, die - –∂–µ–Ω—Å–∫–∏–π, das - —Å—Ä–µ–¥–Ω–∏–π. –ù—É–∂–Ω–æ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å —Å –∫–∞–∂–¥—ã–º —Å–ª–æ–≤–æ–º!", time: "09:25", level: "C2" }
            ]
        };

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            loadLeaderboard();
            loadChatMessages('general');
            updateAuthUI();
            initPasswordStrength();
            initLevelButtons();
            
            // –ò–º–∏—Ç–∞—Ü–∏—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –¥–ª—è —á–∞—Ç–∞
            simulateChatUpdates();
        });

        // –§—É–Ω–∫—Ü–∏–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                window.scrollTo({
                    top: section.offsetTop - 80,
                    behavior: 'smooth'
                });
            }
        }

        function toggleMobileMenu() {
            const navLinks = document.querySelector('.nav-links');
            navLinks.style.display = navLinks.style.display === 'flex' ? 'none' : 'flex';
        }

        // –§—É–Ω–∫—Ü–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        function showAuth(formType) {
            const modal = document.getElementById('authModal');
            modal.style.display = 'flex';
            switchAuthTab(formType);
        }

        function hideAuth() {
            const modal = document.getElementById('authModal');
            modal.style.display = 'none';
        }

        function switchAuthTab(tab) {
            document.getElementById('loginForm').classList.toggle('hidden', tab !== 'login');
            document.getElementById('registerForm').classList.toggle('hidden', tab !== 'register');
            
            document.getElementById('loginTab').classList.toggle('active', tab === 'login');
            document.getElementById('registerTab').classList.toggle('active', tab === 'register');
        }

        function initPasswordStrength() {
            const passwordInput = document.getElementById('regPassword');
            const strengthBar = document.getElementById('passwordStrength');
            const strengthText = document.getElementById('passwordStrengthText');
            
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                let strength = 0;
                
                if (password.length >= 8) strength++;
                if (/[A-Z]/.test(password)) strength++;
                if (/[0-9]/.test(password)) strength++;
                if (/[^A-Za-z0-9]/.test(password)) strength++;
                
                const strengthData = [
                    { width: 25, text: "–°–ª–∞–±—ã–π", color: "#CC0000" },
                    { width: 50, text: "–°—Ä–µ–¥–Ω–∏–π", color: "#FF9900" },
                    { width: 75, text: "–•–æ—Ä–æ—à–∏–π", color: "#00AA00" },
                    { width: 100, text: "–û—Ç–ª–∏—á–Ω—ã–π", color: "#00CC00" }
                ][strength];
                
                strengthBar.style.width = strengthData.width + '%';
                strengthBar.style.background = strengthData.color;
                strengthText.textContent = strengthData.text;
                strengthText.style.color = strengthData.color;
            });
        }

        function initLevelButtons() {
            const buttons = document.querySelectorAll('.level-btn');
            buttons.forEach(btn => {
                btn.addEventListener('click', function() {
                    buttons.forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    document.getElementById('selectedLevel').value = this.dataset.level;
                });
            });
        }

        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
                return;
            }
            
            // –ò–º–∏—Ç–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
            const mockUser = {
                id: 1,
                username: "–ù–æ–≤—ã–π–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
                email: email,
                level: "A1",
                points: 0
            };
            
            currentUser = mockUser;
            localStorage.setItem('currentUser', JSON.stringify(mockUser));
            
            updateAuthUI();
            hideAuth();
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ª–∏–¥–µ—Ä–±–æ—Ä–¥
            if (!users.find(u => u.email === email)) {
                users.push(mockUser);
                localStorage.setItem('users', JSON.stringify(users));
            }
            
            alert('–í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!');
        }

        function register() {
            const username = document.getElementById('regUsername').value;
            const email = document.getElementById('regEmail').value;
            const password = document.getElementById('regPassword').value;
            const confirmPassword = document.getElementById('regConfirmPassword').value;
            const level = document.getElementById('selectedLevel').value;
            
            if (!username || !email || !password || !confirmPassword) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç');
                return;
            }
            
            if (password.length < 6) {
                alert('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤');
                return;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            if (users.find(u => u.email === email)) {
                alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
                return;
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const newUser = {
                id: Date.now(),
                username,
                email,
                password: btoa(password), // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ bcrypt
                level,
                points: 0,
                registrationDate: new Date().toISOString()
            };
            
            users.push(newUser);
            currentUser = newUser;
            
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            updateAuthUI();
            hideAuth();
            
            alert('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Deutsch Master!');
        }

        function updateAuthUI() {
            const authButtons = document.querySelector('.auth-buttons');
            if (currentUser) {
                authButtons.innerHTML = `
                    <span style="color: var(--primary-red); font-weight: 600;">
                        <i class="fas fa-user"></i> ${currentUser.username}
                    </span>
                    <button class="btn btn-outline" onclick="logout()">
                        –í—ã–π—Ç–∏
                    </button>
                `;
            }
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            location.reload();
        }

        // –§—É–Ω–∫—Ü–∏–∏ —Å–ª–æ–≤–∞—Ä—è
        function searchWord(query) {
            const suggestions = document.getElementById('suggestions');
            
            if (!query.trim()) {
                suggestions.style.display = 'none';
                return;
            }
            
            query = query.toLowerCase();
            const results = germanWords.filter(word => 
                word.german.toLowerCase().includes(query) || 
                word.russian.toLowerCase().includes(query)
            ).slice(0, 5);
            
            if (results.length > 0) {
                suggestions.innerHTML = results.map(word => `
                    <div class="suggestion-item" onclick="displayWord(${word.id})">
                        <strong>${word.german}</strong> - ${word.russian}
                        <div style="font-size: 0.8rem; color: #666;">${word.level} ‚Ä¢ ${word.category}</div>
                    </div>
                `).join('');
                suggestions.style.display = 'block';
            } else {
                suggestions.style.display = 'none';
            }
        }

        function displayWord(wordId) {
            const word = germanWords.find(w => w.id === wordId);
            if (!word) return;
            
            document.getElementById('wordTitle').textContent = word.german;
            document.getElementById('wordLevel').textContent = word.level;
            document.getElementById('wordTranslation').textContent = word.russian;
            document.getElementById('wordTranscription').textContent = word.transcription;
            document.getElementById('wordArticle').textContent = word.article || '-';
            document.getElementById('wordExample').textContent = `${word.example_de} (${word.example_ru})`;
            
            document.getElementById('wordDisplay').style.display = 'block';
            document.getElementById('suggestions').style.display = 'none';
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Å–ª–æ–≤–∞—Ä—é
            scrollToSection('dictionary');
        }

        function speakWord() {
            const word = document.getElementById('wordTitle').textContent;
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(word);
                utterance.lang = 'de-DE';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            } else {
                alert('–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏');
            }
        }

        function addToFavorites() {
            if (!currentUser) {
                showAuth('login');
                return;
            }
            const word = document.getElementById('wordTitle').textContent;
            alert(`–°–ª–æ–≤–æ "${word}" –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ!`);
        }

        // –§—É–Ω–∫—Ü–∏–∏ –∏–≥—Ä
        function startGame(gameType) {
            if (!currentUser) {
                showAuth('login');
                return;
            }
            
            const gameNames = {
                duel: "–Ø–∑—ã–∫–æ–≤–æ–π –î—É—ç–ª—å",
                quiz: "–í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –Ω–∞ –≤—Ä–µ–º—è",
                race: "–ì—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–±–µ–≥"
            };
            
            alert(`–ù–∞—á–∏–Ω–∞–µ–º –∏–≥—Ä—É "${gameNames[gameType]}"! –ü–æ–∏—Å–∫ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞...`);
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            setTimeout(() => {
                const results = {
                    duel: { score: Math.floor(Math.random() * 100) + 50, won: Math.random() > 0.5 },
                    quiz: { score: Math.floor(Math.random() * 500) + 200 },
                    race: { score: Math.floor(Math.random() * 300) + 100 }
                };
                
                const result = results[gameType];
                let message = `–ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${result.score} –æ—á–∫–æ–≤. `;
                
                if (gameType === 'duel') {
                    message += result.won ? "–í—ã –ø–æ–±–µ–¥–∏–ª–∏! üèÜ" : "–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏, –Ω–æ –ø–æ–ª—É—á–∏–ª–∏ –æ–ø—ã—Ç!";
                }
                
                alert(message);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—á–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                if (currentUser) {
                    currentUser.points = (currentUser.points || 0) + result.score;
                    localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    updateLeaderboard();
                }
            }, 2000);
        }

        // –§—É–Ω–∫—Ü–∏–∏ —á–∞—Ç–∞
        function switchRoom(room) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–æ–º–Ω–∞—Ç—É
            document.querySelectorAll('.room-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.room-item').classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
            document.getElementById('currentRoom').textContent = 
                room === 'general' ? '# –û–±—â–∏–π —á–∞—Ç' : 
                room === 'a1' ? '# –£—Ä–æ–≤–µ–Ω—å A1' :
                room === 'a2' ? '# –£—Ä–æ–≤–µ–Ω—å A2' :
                room === 'games' ? '# –ò–≥—Ä–æ–≤–∞—è' : '# –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞';
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è
            loadChatMessages(room);
        }

        function loadChatMessages(room) {
            const messagesContainer = document.getElementById('chatMessages');
            const messages = chatMessages[room] || [
                { user: "–°–∏—Å—Ç–µ–º–∞", text: "–ö–æ–º–Ω–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º, –∫—Ç–æ –Ω–∞–ø–∏—à–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ!", time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}), level: "A1" }
            ];
            
            messagesContainer.innerHTML = messages.map(msg => `
                <div class="message ${msg.user === (currentUser?.username || '') ? 'sent' : 'received'}">
                    <div class="message-content">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                            <strong>${msg.user}</strong>
                            <span style="font-size: 0.8rem; opacity: 0.7;">${msg.level}</span>
                        </div>
                        ${msg.text}
                        <div class="message-info">
                            <span>${msg.time}</span>
                        </div>
                    </div>
                </div>
            `).join('');
            
            // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –≤–Ω–∏–∑
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function sendMessage() {
            if (!currentUser) {
                showAuth('login');
                return;
            }
            
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const newMessage = {
                user: currentUser.username,
                text: message,
                time: time,
                level: currentUser.level || "A1"
            };
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ç–µ–∫—É—â—É—é –∫–æ–º–Ω–∞—Ç—É
            const currentRoom = document.querySelector('.room-item.active').textContent.includes('–û–±—â–∏–π') ? 'general' : 'a1';
            if (!chatMessages[currentRoom]) {
                chatMessages[currentRoom] = [];
            }
            chatMessages[currentRoom].push(newMessage);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —á–∞—Ç
            loadChatMessages(currentRoom);
            
            // –û—á–∏—â–∞–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
            input.value = '';
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞
            simulateResponse(message, currentRoom);
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function simulateResponse(userMessage, room) {
            if (!room || room === 'general') {
                setTimeout(() => {
                    const responses = [
                        { user: "AnnaDeutsch", text: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –î–∞–≤–∞–π—Ç–µ –æ–±—Å—É–¥–∏–º.", level: "C1" },
                        { user: "MaxBerlin", text: "–Ø –º–æ–≥—É –ø–æ–º–æ—á—å —Å —ç—Ç–∏–º!", level: "B2" },
                        { user: "Lehrer", text: "–û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è!", level: "C2" }
                    ];
                    
                    const response = responses[Math.floor(Math.random() * responses.length)];
                    response.time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                    
                    if (!chatMessages[room]) chatMessages[room] = [];
                    chatMessages[room].push(response);
                    loadChatMessages(room);
                }, 2000);
            }
        }

        function simulateChatUpdates() {
            setInterval(() => {
                const rooms = ['general', 'a1'];
                const room = rooms[Math.floor(Math.random() * rooms.length)];
                
                const users = ["AnnaDeutsch", "MaxBerlin", "LenaSchmidt", "TomHamburg"];
                const user = users[Math.floor(Math.random() * users.length)];
                
                const messages = [
                    "–ö—Ç–æ —Ö–æ—á–µ—Ç –ø–æ—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω—ã–π –Ω–µ–º–µ—Ü–∫–∏–π?",
                    "–ö–∞–∫ —Å–∫–∞–∑–∞—Ç—å '—É–º–Ω—ã–π –¥–æ–º' –ø–æ-–Ω–µ–º–µ—Ü–∫–∏?",
                    "–ï—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—á–µ–±–Ω–∏–∫–∞–º –¥–ª—è —É—Ä–æ–≤–Ω—è B1?",
                    "–ö—Ç–æ —Å–µ–≥–æ–¥–Ω—è –∏–≥—Ä–∞–µ—Ç –≤ –Ø–∑—ã–∫–æ–≤–æ–π –î—É—ç–ª—å?",
                    "–ü–æ–º–æ–≥–∏—Ç–µ —Å –∞—Ä—Ç–∏–∫–ª—è–º–∏, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞!"
                ];
                
                const message = messages[Math.floor(Math.random() * messages.length)];
                const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                if (!chatMessages[room]) chatMessages[room] = [];
                chatMessages[room].push({
                    user: user,
                    text: message,
                    time: time,
                    level: user === "AnnaDeutsch" ? "C1" : user === "MaxBerlin" ? "B2" : "B1"
                });
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —ç—Ç–∞ –∫–æ–º–Ω–∞—Ç–∞ –∞–∫—Ç–∏–≤–Ω–∞
                const activeRoom = document.querySelector('.room-item.active');
                if (activeRoom && (
                    (room === 'general' && activeRoom.textContent.includes('–û–±—â–∏–π')) ||
                    (room === 'a1' && activeRoom.textContent.includes('A1'))
                )) {
                    loadChatMessages(room);
                }
            }, 15000); // –ö–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥
        }

        // –§—É–Ω–∫—Ü–∏–∏ —Ä–µ–π—Ç–∏–Ω–≥–∞
        function loadLeaderboard() {
            const leaderboardBody = document.getElementById('leaderboardBody');
            
            leaderboardBody.innerHTML = leaderboardData.map(player => `
                <div class="leaderboard-row">
                    <span>
                        <span class="rank-badge rank-${player.rank}">${player.rank}</span>
                    </span>
                    <span style="display: flex; align-items: center; gap: 10px;">
                        <div class="user-avatar">${player.avatar}</div>
                        <div>
                            <div>${player.username}</div>
                            <div style="font-size: 0.8rem; color: #666;">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è: 2024</div>
                        </div>
                    </span>
                    <span><span style="padding: 0.25rem 0.75rem; background: #f0f0f0; border-radius: 15px;">${player.level}</span></span>
                    <span style="font-weight: 600; color: var(--primary-red);">${player.points.toLocaleString()}</span>
                </div>
            `).join('');
        }

        function updateLeaderboard() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ª–∏–¥–µ—Ä–±–æ—Ä–¥–∞
            if (currentUser) {
                const existingPlayer = leaderboardData.find(p => p.username === currentUser.username);
                if (existingPlayer) {
                    existingPlayer.points = currentUser.points;
                } else if (currentUser.points > 500) {
                    leaderboardData.push({
                        rank: leaderboardData.length + 1,
                        username: currentUser.username,
                        level: currentUser.level,
                        points: currentUser.points,
                        avatar: currentUser.username.substring(0, 2).toUpperCase()
                    });
                }
                
                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –æ—á–∫–∞–º
                leaderboardData.sort((a, b) => b.points - a.points);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–∞–Ω–≥–∏
                leaderboardData.forEach((player, index) => {
                    player.rank = index + 1;
                });
                
                loadLeaderboard();
            }
        }

        function loadFullLeaderboard() {
            alert('–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞... –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π.');
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        document.getElementById('authModal').addEventListener('click', function(e) {
            if (e.target === this) {
                hideAuth();
            }
        });

        // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏/–æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('beforeunload', function() {
            if (currentUser) {
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }
        });

        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        window.addEventListener('load', function() {
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ–º–æ-—Å–ª–æ–≤–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            setTimeout(() => {
                displayWord(1); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ª–æ–≤–æ "Haus"
            }, 1000);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –¥–µ–º–æ-—Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç
            setTimeout(() => {
                if (!chatMessages.general) chatMessages.general = [];
                chatMessages.general.push({
                    user: "–î–µ–º–æ-–±–æ—Ç",
                    text: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Deutsch Master! –ù–∞—á–Ω–∏—Ç–µ –∏–∑—É—á–µ–Ω–∏–µ –Ω–µ–º–µ—Ü–∫–æ–≥–æ —Å –Ω–∞—à–∏–º–∏ –∏–≥—Ä–∞–º–∏ –∏ —Å–ª–æ–≤–∞—Ä–µ–º!",
                    time: new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'}),
                    level: "A1"
                });
                loadChatMessages('general');
            }, 2000);
        });
    </script>
</body>
</html>
